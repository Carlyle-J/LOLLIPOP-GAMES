<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Management</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css" rel="stylesheet">
    <link rel="stylesheet" href="admin.css">
     <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container-fluid px-4 py-4">
        <!-- Header -->
        <header class="header-gradient p-4 rounded-3 shadow-lg mb-4">
            <div class="d-flex justify-content-between align-items-center">
                <div class="d-flex align-items-center">
                    <!-- Logo -->
                    <a href="index.html" style="text-decoration: none"><div class="logo-box p-3 rounded-3 shadow me-4">
                        <div class="logo-text fw-bold text-black">LOLLIPOP</div>
                        <div class="logo-text fw-bold text-black" style="font-size: 0.8rem;">GAMES</div>
                    </div>
                    </a>
                    <!-- Title -->
                    <div class="text-white">
                        <h1 class="header-title fw-bold mb-1">Product Management</h1>
                    </div>
                    <div>
                </div>

                <!-- User Avatar -->
                <div class="d-flex align-items-center adminny" >
                    <div class="text-end me-3 d-none d-sm-block">
                        <p class="text-white mb-0 small">Admin User</p>
                        <p class="mb-0" style="color: #FFF3E0; font-size: 0.75rem;">Administrator</p>
                    </div>
                    <div class="avatar-placeholder rounded-circle d-flex align-items-center justify-content-center">
                        <i class="bi bi-person-fill"></i>
                    </div>
                </div>
            </div>
        </header>

        <!-- Action Bar -->
        <div class="card-custom bg-white p-4 mb-4">
            <div class="row align-items-center">
                <div class="col-lg-6 col-md-6 mb-3 mb-md-0">
                    <button class="btn btn-primary-custom">
                        <i class="bi bi-plus-circle me-2"></i><a href="productmanipulation.html" style="text-decoration: none; color:black;">Add Product</a>
                    </button>
                </div>
                <div class="col-lg-6 col-md-6">
                    <div class="position-relative">
                        <i class="bi bi-search position-absolute top-50 start-0 translate-middle-y ms-3 text-muted"></i>
                        <input type="text" id="searchInput" class="form-control search-input ps-5" placeholder="Search products..." onkeyup="filterProducts()">
                    </div>
                </div>
            </div>
        </div>

        <!-- Products Table -->
        <div class="card-custom bg-white overflow-hidden mb-4">
            <div class="table-responsive">
                <table class="table table-hover mb-0">
                    <thead class="table-header">
                        <tr>
                            <th class="fw-bold text-black">ID</th>
                            <th class="fw-bold text-black">Product Name</th>
                            <th class="fw-bold text-black">Category</th>
                            <th class="fw-bold text-black">Price</th>
                            <th class="fw-bold text-black">Stock</th>
                            <th class="fw-bold text-black text-center">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="productsTableBody">
                        <!-- Products will be populated here -->
                    </tbody>
                </table>
            </div>
            
            <!-- No Products Message -->
            <div id="noProductsMessage" class="text-center p-5 d-none">
                <i class="bi bi-box-seam display-4 text-muted mb-3"></i>
                <h5>No Products Found</h5>
                <p class="text-muted">Try adjusting your search criteria or add a new product.</p>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer-custom p-4 text-center">
            <p class="mb-0">&copy; 2025 LOLLIPOP GAMES. All rights reserved.</p>
        </footer>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Mock data
        let products = [
            { id: "001", name: "Smoky marble headsets", category: "Accessories", price: 59.99, stock: 150 },
            { id: "002", name: "Call of Duty", category: "Playstation", price: 39.99, stock: 87 },
            { id: "003", name: "Mortal Kombat", category: "Nintendo", price: 19.99, stock: 0 },
            { id: "004", name: "NBA World Cup", category: "Xbox", price: 49.99, stock: 92 },
            { id: "005", name: "Xbox Series X", category: "Consoles", price: 44.99, stock: 156 },
            { id: "006", name: "Toshiba SSD 1TB", category: "PC Components", price: 29.99, stock: 78 }
        ];

        let editingProductId = null;
        let filteredProducts = [...products];

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            renderProducts();
        });

        // Get category badge class
        function getCategoryBadgeClass(category) {
            const classes = {
                'RPG': 'badge-rpg',
                'Racing': 'badge-racing',
                'Puzzle': 'badge-puzzle',
                'Action': 'badge-action',
                'Strategy': 'badge-strategy',
                'Adventure': 'badge-adventure',
                'Sports': 'badge-sports',
                'Simulation': 'badge-simulation',
                'Fighting': 'badge-fighting'
            };
            return classes[category] || 'bg-secondary';
        }

        // Get stock status
        function getStockStatus(stock) {
            if (stock === 0) return { text: 'Out of Stock', class: 'badge-out-stock' };
            if (stock < 50) return { text: 'Low Stock', class: 'badge-low-stock' };
            return { text: 'In Stock', class: 'badge-in-stock' };
        }

        // Render products table
        function renderProducts() {
            const tbody = document.getElementById('productsTableBody');
            const noProductsMessage = document.getElementById('noProductsMessage');
            
            if (filteredProducts.length === 0) {
                tbody.innerHTML = '';
                noProductsMessage.classList.remove('d-none');
                return;
            }

            noProductsMessage.classList.add('d-none');
            
            tbody.innerHTML = filteredProducts.map(product => {
                const stockStatus = getStockStatus(product.stock);
                const categoryClass = getCategoryBadgeClass(product.category);
                
                return `
                    <tr>
                        <td><code>#${product.id}</code></td>
                        <td>
                            <div class="fw-semibold text-dark">${product.name}</div>
                        </td>
                        <td>
                            <span class="badge ${categoryClass}">${product.category}</span>
                        </td>
                        <td>
                            <span class="fw-semibold text-success">$${product.price.toFixed(2)}</span>
                        </td>
                        <td>
                            <div class="d-flex flex-column gap-1">
                                <span class="fw-semibold">${product.stock}</span>
                                <span class="badge ${stockStatus.class} small">${stockStatus.text}</span>
                            </div>
                        </td>
                        <td class="text-center">
                            <div class="d-flex gap-2 justify-content-center">
                                <button class="btn btn-outline-warning btn-sm" onclick="editProduct('${product.id}')" data-bs-toggle="modal" data-bs-target="#productModal">
                                    <i class="bi bi-pencil me-1"></i>Edit
                                </button>
                                <button class="btn btn-outline-danger btn-sm" onclick="deleteProduct('${product.id}')">
                                    <i class="bi bi-trash me-1"></i>Delete
                                </button>
                            </div>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        // Filter products
        function filterProducts() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            filteredProducts = products.filter(product =>
                product.name.toLowerCase().includes(searchTerm) ||
                product.category.toLowerCase().includes(searchTerm) ||
                product.id.includes(searchTerm)
            );
            renderProducts();
        }

        
        // Edit product
        function editProduct(id) {
            const product = products.find(p => p.id === id);
            if (!product) return;

            editingProductId = id;
            document.getElementById('modalTitle').textContent = 'Edit Product';
            document.getElementById('saveButtonText').textContent = 'Update Product';
            
            document.getElementById('productName').value = product.name;
            document.getElementById('productCategory').value = product.category;
            document.getElementById('productPrice').value = product.price;
            document.getElementById('productStock').value = product.stock;
            
            clearErrors();
        }

        // Delete product
        function deleteProduct(id) {
            if (confirm('Are you sure you want to delete this product?')) {
                products = products.filter(p => p.id !== id);
                filterProducts();
            }
        }
    </script>
</body>
</html>